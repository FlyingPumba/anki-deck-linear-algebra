{
  "id": "31",
  "title": "Lesson 31: Conditioning and Perturbation",
  "lesson_title": "Conditioning and perturbation theory",
  "objectives": [
    "Understand condition numbers",
    "Analyze sensitivity of solutions",
    "Recognize ill-conditioned problems"
  ],
  "cards": [
    {
      "uid": "linear-algebra-31-001",
      "front": "What is the condition number of a matrix?",
      "back": "\\( \\kappa(A) = ||A|| \\cdot ||A^{-1}|| = \\frac{\\sigma_{\\max}}{\\sigma_{\\min}} \\)<br><br>Measures sensitivity of \\( A\\vec{x} = \\vec{b} \\) to perturbations.<br><br>Larger \\( \\kappa \\) = more sensitive = \"ill-conditioned.\"",
      "tags": [
        "ch31",
        "condition-number",
        "definition"
      ]
    },
    {
      "uid": "linear-algebra-31-002",
      "front": "How does condition number affect solution accuracy?",
      "back": "Relative error in solution can be \\( \\kappa \\) times relative error in input:<br><br>\\( \\frac{||\\delta \\vec{x}||}{||\\vec{x}||} \\leq \\kappa(A) \\cdot \\frac{||\\delta \\vec{b}||}{||\\vec{b}||} \\)<br><br>With \\( \\kappa = 10^6 \\), a \\( 10^{-8} \\) relative error becomes \\( 10^{-2} \\).",
      "tags": [
        "ch31",
        "condition-number",
        "error-bound"
      ]
    },
    {
      "uid": "linear-algebra-31-003",
      "front": "What is a well-conditioned vs ill-conditioned matrix?",
      "back": "Well-conditioned: \\( \\kappa \\) close to 1 (orthogonal matrices have \\( \\kappa = 1 \\))<br><br>Ill-conditioned: \\( \\kappa \\gg 1 \\) (near-singular, some directions nearly collapsed)<br><br>Rule of thumb: lose \\( \\log_{10}(\\kappa) \\) digits of precision.",
      "tags": [
        "ch31",
        "conditioning",
        "interpretation"
      ]
    },
    {
      "uid": "linear-algebra-31-004",
      "front": "How does conditioning relate to singular values?",
      "back": "\\( \\kappa = \\sigma_1 / \\sigma_r \\) (ratio of largest to smallest non-zero singular value)<br><br>Large gap between singular values = ill-conditioning.<br><br>Geometrically: the transformation stretches some directions much more than others.",
      "tags": [
        "ch31",
        "condition-number",
        "svd"
      ]
    },
    {
      "uid": "linear-algebra-31-005",
      "front": "What is the condition number of \\( A^T A \\)?",
      "back": "\\( \\kappa(A^T A) = \\kappa(A)^2 \\)<br><br>This is why solving normal equations is less stable than QR.<br><br>Squaring the matrix squares the condition number.",
      "tags": [
        "ch31",
        "conditioning",
        "normal-equations"
      ]
    },
    {
      "uid": "linear-algebra-31-006",
      "front": "How sensitive are eigenvalues to perturbations?",
      "back": "For symmetric matrices: eigenvalues are very stable.<br><br>Weyl's theorem: \\( |\\lambda_i(A+E) - \\lambda_i(A)| \\leq ||E||_2 \\)<br><br>For non-symmetric matrices: eigenvalues can be very sensitive (especially with repeated eigenvalues).",
      "tags": [
        "ch31",
        "eigenvalue-sensitivity",
        "perturbation"
      ]
    },
    {
      "uid": "linear-algebra-31-007",
      "front": "What is pseudospectrum?",
      "back": "The set of \\( z \\) where \\( ||(A - zI)^{-1}|| > 1/\\epsilon \\).<br><br>Shows where eigenvalues of \\( A + E \\) could be for \\( ||E|| < \\epsilon \\).<br><br>Reveals eigenvalue sensitivity even when the eigenvalues themselves look fine.",
      "tags": [
        "ch31",
        "pseudospectrum",
        "definition"
      ]
    },
    {
      "uid": "linear-algebra-31-008",
      "front": "How do you improve conditioning?",
      "back": "Preconditioning: replace \\( A\\vec{x} = \\vec{b} \\) with \\( M^{-1}A\\vec{x} = M^{-1}\\vec{b} \\)<br><br>Choose \\( M \\approx A \\) so \\( M^{-1}A \\approx I \\).<br><br>Or: regularization (add \\( \\lambda I \\) to \\( A^T A \\)).",
      "tags": [
        "ch31",
        "preconditioning",
        "remedy"
      ]
    },
    {
      "uid": "linear-algebra-31-009",
      "front": "What is the effective rank of a matrix?",
      "back": "The number of singular values above a threshold (e.g., \\( \\sigma_i > \\epsilon \\cdot \\sigma_1 \\)).<br><br>Numerical rank can be less than mathematical rank due to:<br><br><ul><li>Small singular values from noise</li><li>Near-dependencies in the columns</li></ul>",
      "tags": [
        "ch31",
        "effective-rank",
        "numerical"
      ]
    },
    {
      "uid": "linear-algebra-31-010",
      "front": "Why does conditioning matter for MI?",
      "back": "Model weights are noisy (training, quantization).<br><br>Ill-conditioned decompositions:<br><br><ul><li>Amplify numerical errors</li><li>Give unstable \"features\"</li><li>Make small singular directions unreliable</li></ul><br>Check condition numbers before trusting fine structure.",
      "tags": [
        "ch31",
        "conditioning",
        "mi-application"
      ]
    }
  ]
}
